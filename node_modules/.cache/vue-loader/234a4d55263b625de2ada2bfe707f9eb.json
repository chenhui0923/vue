{"remainingRequest":"D:\\xiangmu\\vuetest\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\xiangmu\\vuetest\\src\\app\\testchpz.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\xiangmu\\vuetest\\src\\app\\testchpz.vue","mtime":1656657881423},{"path":"D:\\xiangmu\\vuetest\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1655534496787},{"path":"D:\\xiangmu\\vuetest\\node_modules\\babel-loader\\lib\\index.js","mtime":1655534506749},{"path":"D:\\xiangmu\\vuetest\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1655534496787},{"path":"D:\\xiangmu\\vuetest\\node_modules\\vue-loader\\lib\\index.js","mtime":1655534502587}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nexport default {\n\tdata() {\n\t\treturn {\n\t\t\ttimesWeek: Date.now(), // 按照当前默认时间\n\t\t\tgetList: {\n\t\t\t\tscheduleStartDate: '', // 排班开始日期\n\t\t\t\tscheduleEndDate: '', // 排班结束日期\n\t\t\t},\n\t\t};\n\t},\n\tmethods: {\n\t\t//  转换时间格式\n\t\tfun(unixtimestamp) {\n\t\t\tconst dt = new Date(unixtimestamp)\n\t\t\tconst y = dt.getFullYear()\n\t\t\tconst m = (dt.getMonth() + 1 + '').padStart(2, '0')\n\t\t\tconst d = (dt.getDate() + '').padStart(2, '0')\n\t\t\treturn `${y}-${m}-${d}`\n\t\t},\n\t\t// 当用户直接点击选择日期而不是点击进行以下操作\n\t\t// 此时val会默认传入星期一的时间戳\n\t\tchangeOne(val) {\n\t\t\tconst timeStamp = val.getTime() // 标准时间转为时间戳，毫秒级别\n\t\t\tthis.getList.scheduleStartDate = this.fun(\n\t\t\t\ttimeStamp - 24 * 60 * 60 * 1000\n\t\t\t) // 开始时间\n\t\t\tthis.getList.scheduleEndDate = this.fun(\n\t\t\t\ttimeStamp + 24 * 60 * 60 * 1000 * 5\n\t\t\t) // 结束时间\n\t\t},\n\t\t// 上一周\n\t\t// 604800000为一周的时间戳\n\t\t// 24 * 60 * 60 * 1000 * 7 = 604800000\n\t\tlastWeek() {\n\t\t\tthis.getList.scheduleStartDate = this.fun(\n\t\t\t\tDate.parse(new Date(this.getList.scheduleStartDate)) - 604800000\n\t\t\t)\n\t\t\tthis.getList.scheduleEndDate = this.fun(\n\t\t\t\tDate.parse(new Date(this.getList.scheduleEndDate)) - 604800000\n\t\t\t)\n\t\t\tthis.timesWeek = this.fun(\n\t\t\t\tDate.parse(new Date(this.getList.scheduleStartDate))\n\t\t\t)\n\t\t\tthis.$forceUpdate() // 强制更新\n\t\t},\n\t\t// 下一周\n\t\tnextWeek() {\n\t\t\tthis.getList.scheduleStartDate = this.fun(\n\t\t\t\tDate.parse(new Date(this.getList.scheduleStartDate)) + 604800000\n\t\t\t)\n\t\t\tthis.getList.scheduleEndDate = this.fun(\n\t\t\t\tDate.parse(new Date(this.getList.scheduleEndDate)) + 604800000\n\t\t\t)\n\t\t\tthis.timesWeek = this.fun(\n\t\t\t\tDate.parse(new Date(this.getList.scheduleStartDate))\n\t\t\t)\n\t\t\tthis.$forceUpdate() // 强制更新\n\t\t},\n\t},\n\tmounted() {\n\t\t// 86400000为一天时间戳  // 604800000为一周时间戳\n\t\t// 因为组件的限制，因为组件是从上周日到本周六，所有需要减去一天的时间戳\n\t\t//  写法大概为一周7天，减去当前已过天数，将天数转换成时间戳，最后再转换成日期\n\t\tthis.getList.scheduleEndDate = this.fun(\n\t\t\tDate.parse(new Date()) +\n\t\t\t((7 - new Date(Date.parse(new Date())).getDay()) * 24 * 60 * 60 * 1000 -\n\t\t\t\t86400000))\n\t\t// \n\t\tthis.getList.scheduleStartDate = this.fun(\n\t\t\tDate.parse(new Date()) +\n\t\t\t((7 - new Date(Date.parse(new Date())).getDay()) * 24 * 60 * 60 * 1000 -\n\t\t\t\t604800000))\n\t}\n}\n",{"version":3,"sources":["testchpz.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAuBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"testchpz.vue","sourceRoot":"src/app","sourcesContent":["<template>\r\n\t<div>\r\n\t\t<div>\r\n\t\t\t<el-form :inline=\"true\" :model=\"searchForm\" size=\"small\" class=\"health-plan-schedule--form\">\r\n\t\t\t\t<el-form-item>\r\n\t\t\t\t\t<el-button size=\"small\" @click=\"lastWeek\" type=\"primary\" style=\"margin: 0.5rem;\">\r\n\t\t\t\t\t\t上一周\r\n\t\t\t\t\t</el-button>\r\n\t\t\t\t\t<el-date-picker @change=\"changeOne\" v-model=\"timesWeek\" width=\"240\" type=\"week\"\r\n\t\t\t\t\t\t:format=\"getList.scheduleStartDate + ' 至 ' + getList.scheduleEndDate\" placeholder=\"选择周\" />\r\n\t\t\t\t\t<el-button size=\"small\" @click=\"nextWeek\" type=\"primary\" style=\"margin: 0.5rem;\">\r\n\t\t\t\t\t\t下一周\r\n\t\t\t\t\t</el-button>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t</el-form>\r\n\t\t</div>\r\n\t\t\r\n\t\t\r\n\t</div>\r\n\r\n</template>\r\n\r\n<script>\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\ttimesWeek: Date.now(), // 按照当前默认时间\r\n\t\t\t\tgetList: {\r\n\t\t\t\t\tscheduleStartDate: '', // 排班开始日期\r\n\t\t\t\t\tscheduleEndDate: '', // 排班结束日期\r\n\t\t\t\t},\r\n\t\t\t};\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t//  转换时间格式\r\n\t\t\tfun(unixtimestamp) {\r\n\t\t\t\tconst dt = new Date(unixtimestamp)\r\n\t\t\t\tconst y = dt.getFullYear()\r\n\t\t\t\tconst m = (dt.getMonth() + 1 + '').padStart(2, '0')\r\n\t\t\t\tconst d = (dt.getDate() + '').padStart(2, '0')\r\n\t\t\t\treturn `${y}-${m}-${d}`\r\n\t\t\t},\r\n\t\t\t// 当用户直接点击选择日期而不是点击进行以下操作\r\n\t\t\t// 此时val会默认传入星期一的时间戳\r\n\t\t\tchangeOne(val) {\r\n\t\t\t\tconst timeStamp = val.getTime() // 标准时间转为时间戳，毫秒级别\r\n\t\t\t\tthis.getList.scheduleStartDate = this.fun(\r\n\t\t\t\t\ttimeStamp - 24 * 60 * 60 * 1000\r\n\t\t\t\t) // 开始时间\r\n\t\t\t\tthis.getList.scheduleEndDate = this.fun(\r\n\t\t\t\t\ttimeStamp + 24 * 60 * 60 * 1000 * 5\r\n\t\t\t\t) // 结束时间\r\n\t\t\t},\r\n\t\t\t// 上一周\r\n\t\t\t// 604800000为一周的时间戳\r\n\t\t\t// 24 * 60 * 60 * 1000 * 7 = 604800000\r\n\t\t\tlastWeek() {\r\n\t\t\t\tthis.getList.scheduleStartDate = this.fun(\r\n\t\t\t\t\tDate.parse(new Date(this.getList.scheduleStartDate)) - 604800000\r\n\t\t\t\t)\r\n\t\t\t\tthis.getList.scheduleEndDate = this.fun(\r\n\t\t\t\t\tDate.parse(new Date(this.getList.scheduleEndDate)) - 604800000\r\n\t\t\t\t)\r\n\t\t\t\tthis.timesWeek = this.fun(\r\n\t\t\t\t\tDate.parse(new Date(this.getList.scheduleStartDate))\r\n\t\t\t\t)\r\n\t\t\t\tthis.$forceUpdate() // 强制更新\r\n\t\t\t},\r\n\t\t\t// 下一周\r\n\t\t\tnextWeek() {\r\n\t\t\t\tthis.getList.scheduleStartDate = this.fun(\r\n\t\t\t\t\tDate.parse(new Date(this.getList.scheduleStartDate)) + 604800000\r\n\t\t\t\t)\r\n\t\t\t\tthis.getList.scheduleEndDate = this.fun(\r\n\t\t\t\t\tDate.parse(new Date(this.getList.scheduleEndDate)) + 604800000\r\n\t\t\t\t)\r\n\t\t\t\tthis.timesWeek = this.fun(\r\n\t\t\t\t\tDate.parse(new Date(this.getList.scheduleStartDate))\r\n\t\t\t\t)\r\n\t\t\t\tthis.$forceUpdate() // 强制更新\r\n\t\t\t},\r\n\t\t},\r\n\t\tmounted() {\r\n\t\t\t// 86400000为一天时间戳  // 604800000为一周时间戳\r\n\t\t\t// 因为组件的限制，因为组件是从上周日到本周六，所有需要减去一天的时间戳\r\n\t\t\t//  写法大概为一周7天，减去当前已过天数，将天数转换成时间戳，最后再转换成日期\r\n\t\t\tthis.getList.scheduleEndDate = this.fun(\r\n\t\t\t\tDate.parse(new Date()) +\r\n\t\t\t\t((7 - new Date(Date.parse(new Date())).getDay()) * 24 * 60 * 60 * 1000 -\r\n\t\t\t\t\t86400000))\r\n\t\t\t// \r\n\t\t\tthis.getList.scheduleStartDate = this.fun(\r\n\t\t\t\tDate.parse(new Date()) +\r\n\t\t\t\t((7 - new Date(Date.parse(new Date())).getDay()) * 24 * 60 * 60 * 1000 -\r\n\t\t\t\t\t604800000))\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style>\r\n</style>\n"]}]}