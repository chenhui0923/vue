{"remainingRequest":"D:\\xiangmu\\vuetest\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\xiangmu\\vuetest\\src\\app\\new_file.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\xiangmu\\vuetest\\src\\app\\new_file.vue","mtime":1662950973730},{"path":"D:\\xiangmu\\vuetest\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1655534496787},{"path":"D:\\xiangmu\\vuetest\\node_modules\\babel-loader\\lib\\index.js","mtime":1655534506749},{"path":"D:\\xiangmu\\vuetest\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1655534496787},{"path":"D:\\xiangmu\\vuetest\\node_modules\\vue-loader\\lib\\index.js","mtime":1655534502587}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nexport default {\n  data() {\n    return {\n      checked: false,\n      selectList: [],\n      tableData: [\n        {\n          id: 1,\n          date: \"2016-05-02\",\n          name: \"王小虎\",\n          address: \"上海市普陀区金沙江路 1518 弄\",\n        },\n        {\n          id: 2,\n          date: \"2016-05-04\",\n          name: \"王小虎\",\n          address: \"上海市普陀区金沙江路 1517 弄\",\n        },\n        {\n          id: 3,\n          date: \"2016-05-01\",\n          name: \"王小虎\",\n          address: \"上海市普陀区金沙江路 1519 弄\",\n          children: [\n            {\n              id: 31,\n              date: \"2016-05-01\",\n              name: \"王小虎\",\n              address: \"上海市普陀区金沙江路 1519 弄\",\n            },\n            {\n              id: 32,\n              date: \"2016-05-01\",\n              name: \"王小虎\",\n              address: \"上海市普陀区金沙江路 1519 弄\",\n            },\n          ],\n        },\n        {\n          id: 4,\n          date: \"2016-05-03\",\n          name: \"王小虎\",\n          address: \"上海市普陀区金沙江路 1516 弄\",\n        },\n      ],\n    };\n  },\n  methods: {\n    // 全选操作\n    selectAll() {\n      this.checked = !this.checked;\n      let list = this.getNewTableDate(this.tableData);\n      if (this.checked) {\n        list.forEach((item) => {\n          var boo = false;\n          this.selectList.forEach((item2) => {\n            if (item.id == item2.id) {\n              boo = true;\n            }\n          });\n          if (!boo) {\n            this.selectList.push(item);\n          }\n        });\n      } else {\n        list.forEach((item) => {\n          this.selectList.forEach((item2, index) => {\n            if (item.id == item2.id) {\n              this.selectList.splice(index, 1);\n            }\n          });\n        });\n      }\n      this.select(this.tableData, this.checked);\n    },\n    // 单选操作\n    selectA(se, row) {\n      if ((se.length = this.tableData.length)) {\n        this.checked = true;\n      } else {\n        this.checked = false;\n      }\n      let selected = se.length && se.indexOf(row) !== -1;\n      if (selected) {\n        this.selectList.push(row);\n      } else {\n        this.selectList.forEach((re, index) => {\n          if (re.id == row.id) {\n            this.selectList.splice(index, 1);\n          }\n        });\n      }\n    },\n    // 全选\n    select(val, boo) {\n      val.forEach((row) => {\n        this.$refs.multipleTable.toggleRowSelection(row, boo);\n        if (row.children != undefined) {\n          this.select(row.children, boo);\n        }\n      });\n    },\n    // 提取表格数据\n    getNewTableDate(arr) {\n      let array = [];\r\n\t  //去除undefined\n      arr.forEach((item) => {\n        array.push(item);\n        if (item.children != undefined) {\n          item.children.forEach((item2) => {\n            array.push(item2);\n          });\n        }\n      });\n      return array;\n    },\n    // 刷新\n    resetQuery() {\n      this.tableData = [\n        {\n          id: 1,\n          date: \"2016-05-02\",\n          name: \"王小虎\",\n          address: \"上海市普陀区金沙江路 1518 弄\",\n        },\n        {\n          id: 2,\n          date: \"2016-05-04\",\n          name: \"王小虎\",\n          address: \"上海市普陀区金沙江路 1517 弄\",\n        },\n        {\n          id: 3,\n          date: \"2016-05-01\",\n          name: \"王小虎\",\n          address: \"上海市普陀区金沙江路 1519 弄\",\n          children: [\n            {\n              id: 31,\n              date: \"2016-05-01\",\n              name: \"王小虎\",\n              address: \"上海市普陀区金沙江路 1519 弄\",\n            },\n            {\n              id: 32,\n              date: \"2016-05-01\",\n              name: \"王小虎\",\n              address: \"上海市普陀区金沙江路 1519 弄\",\n            },\n          ],\n        },\n        {\n          id: 4,\n          date: \"2016-05-03\",\n          name: \"王小虎\",\n          address: \"上海市普陀区金沙江路 1516 弄\",\n        },\n        {\n          id: 5,\n          date: \"2016-05-08\",\n          name: \"张三\",\n          address: \" 1516 弄\",\n        },\n      ];\n      // 勾选之前选中的数据\n      this.getSelectList();\n    },\n    getSelectList() {\n      if (this.selectList.length != 0) {\n        let arr = this.tableData;\n        var array = [];\n        let list = this.getNewTableDate(arr);\n        list.forEach((ite) => {\n          this.selectList.forEach((ite2) => {\n            if (ite.id == ite2.id) {\n              array.push(ite2);\n            }\n          });\n        });\n        if (array.length == list.length) {\n          this.checkedKeys = true;\n        } else {\n          this.checkedKeys = false;\n        }\n        this.togselect(arr, true);\n      }\n    },\n    togselect(arr, boo) {\n      this.$nextTick(() => {\n        arr.forEach((row) => {\n          this.selectList.forEach((sa) => {\n            if (row.id == sa.id) {\n              this.$refs.multipleTable.toggleRowSelection(row, boo);\n            }\n          });\n          if (row.children != undefined) {\n            this.togselect(row.children, boo);\n          }\n        });\n      });\n    },\n  },\n};\n",{"version":3,"sources":["new_file.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAyBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"new_file.vue","sourceRoot":"src/app","sourcesContent":["<template>\n  <div align=\"center\">\n    <el-button icon=\"el-icon-refresh\" @click=\"resetQuery\">刷新</el-button>\n    <el-table\n      ref=\"multipleTable\"\n      @select-all=\"selectAll\"\n      @select=\"selectA\"\n      :data=\"tableData\"\n      style=\"width: 800px; margin-bottom: 20px\"\n      row-key=\"id\"\n      border\n      default-expand-all\n      :tree-props=\"{ children: 'children', hasChildren: 'hasChildren' }\"\n    >\n      <el-table-column type=\"selection\" width=\"180\" />\n      <el-table-column prop=\"date\" label=\"日期\" sortable width=\"180\">\n      </el-table-column>\n      <el-table-column prop=\"name\" label=\"姓名\" sortable width=\"180\">\n      </el-table-column>\n      <el-table-column prop=\"address\" label=\"地址\"> </el-table-column>\n    </el-table>\n    {{ selectList }}\n  </div>\n</template>\n<script>\nexport default {\n  data() {\n    return {\n      checked: false,\n      selectList: [],\n      tableData: [\n        {\n          id: 1,\n          date: \"2016-05-02\",\n          name: \"王小虎\",\n          address: \"上海市普陀区金沙江路 1518 弄\",\n        },\n        {\n          id: 2,\n          date: \"2016-05-04\",\n          name: \"王小虎\",\n          address: \"上海市普陀区金沙江路 1517 弄\",\n        },\n        {\n          id: 3,\n          date: \"2016-05-01\",\n          name: \"王小虎\",\n          address: \"上海市普陀区金沙江路 1519 弄\",\n          children: [\n            {\n              id: 31,\n              date: \"2016-05-01\",\n              name: \"王小虎\",\n              address: \"上海市普陀区金沙江路 1519 弄\",\n            },\n            {\n              id: 32,\n              date: \"2016-05-01\",\n              name: \"王小虎\",\n              address: \"上海市普陀区金沙江路 1519 弄\",\n            },\n          ],\n        },\n        {\n          id: 4,\n          date: \"2016-05-03\",\n          name: \"王小虎\",\n          address: \"上海市普陀区金沙江路 1516 弄\",\n        },\n      ],\n    };\n  },\n  methods: {\n    // 全选操作\n    selectAll() {\n      this.checked = !this.checked;\n      let list = this.getNewTableDate(this.tableData);\n      if (this.checked) {\n        list.forEach((item) => {\n          var boo = false;\n          this.selectList.forEach((item2) => {\n            if (item.id == item2.id) {\n              boo = true;\n            }\n          });\n          if (!boo) {\n            this.selectList.push(item);\n          }\n        });\n      } else {\n        list.forEach((item) => {\n          this.selectList.forEach((item2, index) => {\n            if (item.id == item2.id) {\n              this.selectList.splice(index, 1);\n            }\n          });\n        });\n      }\n      this.select(this.tableData, this.checked);\n    },\n    // 单选操作\n    selectA(se, row) {\n      if ((se.length = this.tableData.length)) {\n        this.checked = true;\n      } else {\n        this.checked = false;\n      }\n      let selected = se.length && se.indexOf(row) !== -1;\n      if (selected) {\n        this.selectList.push(row);\n      } else {\n        this.selectList.forEach((re, index) => {\n          if (re.id == row.id) {\n            this.selectList.splice(index, 1);\n          }\n        });\n      }\n    },\n    // 全选\n    select(val, boo) {\n      val.forEach((row) => {\n        this.$refs.multipleTable.toggleRowSelection(row, boo);\n        if (row.children != undefined) {\n          this.select(row.children, boo);\n        }\n      });\n    },\n    // 提取表格数据\n    getNewTableDate(arr) {\n      let array = [];\r\n\t  //去除undefined\n      arr.forEach((item) => {\n        array.push(item);\n        if (item.children != undefined) {\n          item.children.forEach((item2) => {\n            array.push(item2);\n          });\n        }\n      });\n      return array;\n    },\n    // 刷新\n    resetQuery() {\n      this.tableData = [\n        {\n          id: 1,\n          date: \"2016-05-02\",\n          name: \"王小虎\",\n          address: \"上海市普陀区金沙江路 1518 弄\",\n        },\n        {\n          id: 2,\n          date: \"2016-05-04\",\n          name: \"王小虎\",\n          address: \"上海市普陀区金沙江路 1517 弄\",\n        },\n        {\n          id: 3,\n          date: \"2016-05-01\",\n          name: \"王小虎\",\n          address: \"上海市普陀区金沙江路 1519 弄\",\n          children: [\n            {\n              id: 31,\n              date: \"2016-05-01\",\n              name: \"王小虎\",\n              address: \"上海市普陀区金沙江路 1519 弄\",\n            },\n            {\n              id: 32,\n              date: \"2016-05-01\",\n              name: \"王小虎\",\n              address: \"上海市普陀区金沙江路 1519 弄\",\n            },\n          ],\n        },\n        {\n          id: 4,\n          date: \"2016-05-03\",\n          name: \"王小虎\",\n          address: \"上海市普陀区金沙江路 1516 弄\",\n        },\n        {\n          id: 5,\n          date: \"2016-05-08\",\n          name: \"张三\",\n          address: \" 1516 弄\",\n        },\n      ];\n      // 勾选之前选中的数据\n      this.getSelectList();\n    },\n    getSelectList() {\n      if (this.selectList.length != 0) {\n        let arr = this.tableData;\n        var array = [];\n        let list = this.getNewTableDate(arr);\n        list.forEach((ite) => {\n          this.selectList.forEach((ite2) => {\n            if (ite.id == ite2.id) {\n              array.push(ite2);\n            }\n          });\n        });\n        if (array.length == list.length) {\n          this.checkedKeys = true;\n        } else {\n          this.checkedKeys = false;\n        }\n        this.togselect(arr, true);\n      }\n    },\n    togselect(arr, boo) {\n      this.$nextTick(() => {\n        arr.forEach((row) => {\n          this.selectList.forEach((sa) => {\n            if (row.id == sa.id) {\n              this.$refs.multipleTable.toggleRowSelection(row, boo);\n            }\n          });\n          if (row.children != undefined) {\n            this.togselect(row.children, boo);\n          }\n        });\n      });\n    },\n  },\n};\n</script>"]}]}